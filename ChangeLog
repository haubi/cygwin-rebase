2011-07-07  Corinna Vinschen  <corinna@vinschen.de>

	* Makefile.in (LDFLAGS): Don't override with -static-libstdc++
	unconditionally.
	(rebase): Add -static-libstdc++ to link statement.

2011-06-29  Corinna Vinschen  <corinna@vinschen.de>

	* rebase.c (ALLOCATION_SLOT): New variable to keep allocation
	granularity.
	(main): Define status once at the start of main.  Initialize
	ALLOCATION_SLOT from system info.  Recalculate cygwin_dll_image_base
	and cygwin_dll_image_size and add comments to explain why.
	(rebase): Only check for Cygwin DLL if down_flag is TRUE.  Add comment
	to explain why.

2011-06-28  Corinna Vinschen  <corinna@vinschen.de>

	* configure.ac (DEFAULT_OFFSET_VALUE): Define host-dependent.
	* Makefile.in (DEFAULT_OFFSET_VALUE): Define.
	(edit): Substitute DEFAULT_OFFSET_VALUE.
	* rebaseall.in (DefaultOffset): Make configurable during build.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* rebaseall.in: Add "sys-root/mingw" to excluding sed expressions.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* Makefile.in (CFLAGS): Override to enforce -Wall -Werror.
	(CXXFLAGS): Ditto.
	(LDFLAGS): Override to enforce static linking.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* peflags.c (long_options): Add usable single char options where
	missing.
	(short_options): New variable.
	(main): Don't exit on error if there are still files to proceed on.
	(do_mark): Add verbose flag printing.
	(parse_args): Accommodate changes to single-char options.
	(help): Ditto.
	(version): Fix copyright.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* rebase.c (image_info_flag): New flag.
	(img_info_list, img_info_size, img_info_max_size): New global
	variables used to print image info.
	(main): Call setlocale.  On Cygwin fetch base address and size of
	Cygwin DLL.  If image_info_flag is set, call collect_image_info
	rather than rebase in loop and eventually call print_image_info.
	(collect_image_info): New function.
	(img_info_cmp): New function.
	(print_image_info): New function.
	(rebase): On Cygwin, if a DLL has been rebased into the address space
	taken by the Cygwin DLL, move new_image_base and rebase again.
	(parse_args): Handle -i option.
	(usage): Add -i option to usage output.
	(version): Fix copyright.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* peflags.c: Avoid compiler warnings:
	(display_flags): Convert long arguments to uint16_t.
	(do_mark): Remove unused variable i;
	(get_characteristics): Remove unused variable size;
	(set_coff_characteristics): Ditto.
	(set_pe_characteristics): Ditto.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* rebase.c (parse_args): Avoid compiler warning.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* Makefile.in (all): Prepend libimagehelper target to dependency list.
	(libimagehelper): Rename from $(LIBIMAGEHELPER) to allow imagehelper
	Makefile to decide if imagejhelper lib has to be rebuilt.

2011-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* configure.ac: Check for ar.

2011-06-20  Charles Wilson  <cygwin@cwilson.fastmail.fm>

	Update documentation. Add .cvsignore.
	* .cvsignore: New.
	* NEWS: Reorganize into standard newest-first format.

2011-06-20  Charles Wilson  <cygwin@cwilson.fastmail.fm>

	Use autoconf. Configurable installation and SHELL.

	* ChangeLog: New.
	* COPYING: New.
	* Changes: Renamed to...
	* NEWS: this.
	* build-aux/config.guess: New.
	* build-aux/config.sub: New.
	* build-aux/install-sh: New.
	* Makefile: Removed.
	* build.sh: Run configure. Modify to support MinGW
	and MSYS, as well as Cygwin.
	* configure.ac: New.
	* Makefile.in: Rewrite for autoconf.
	* peflagsall: Renamed to...
	* peflagsall.in: this. Set PATH to directory of $0,
	$(bindir), and /bin. Exclude dash as well as ash
	from rebaselist, and peflags.exe itself. Don't die
	if dash processes are running.
	* rebaseall: Renamed to...
	* rebaseall.in: this. Set PATH to directory of $0,
	$(bindir), and /bin. Exclude dash as well as ash
	from rebaselist, and rebase.exe itself.
	* peflags.c: Accomodate MSYS.
	* getopt.h_: Work around broken getopt_long on MSYS.
	* getopt_long.c: Ditto.

Prior: see NEWS file.
